1.协议发送，代码整理
2.解析配置文件，c语言完成，提供1一个借口，两个参数（配置文件路径，界面结构体），返回值要么0，要么1



resource
   BSTUI.xml  界面的配置文件
   楼层/各个楼层图片
   箭头/箭头图片
   功能/功能图片
   video/视频文件
   音频/音频文件
   logo/LOGO图片
   Text/text文档
   日期时间/图片或text文件
   MCU/单片机程序 更新单片机程序
   
1.上层：显示各种界面信息，响应并发送用户的请求，往协议层发送数据（就是字符串，不包括帧头帧尾）
界面信息变更：当协议层发送的信息变更时，更新界面信息，也就是接收到了协议层的数据
响应用户请求：当用户请求时，发送用户的请求到协议层，协议层再发送到底层

2.协议层
    1.对上层需要：发送，接收，监听
    发送：时机，当接收完成底层的发送的数据之后，转换完成之后，可以通过带参数的信号发送给上层
    接收：当接收到上层的请求之后，把数据重组成协议发给底层
    监听：
    2.对下层需要：发送，接收，监听
	发送：在对上层的数据接收并处理之后，发给底层数据
    接收：当接收到底层的数据之后，解析出有用的数据在发给上层
    监听：
    
    
3.底层，暂不涉及   
   
   
1.系统上电，单片机发送版本信息 TAG = 0x04，应用程序进行版本信息比较：
比较结果：相同时，应用程序发送 TAG = 0x05，byte1 为0，即发送无需升级的请求给单片机，等待单片机回复 ===> 获取版本的函数
TAG = 0x06，byte1为0 ，如果不是正常运行，则继续等待；如果是正常运行通知，显示屏进入正常运行的画面，切换到电梯部件的显示画面去

比较结果不同时：进入升级界面，应用程序请求进入升级模式 即发送TAG = 0x05 Byte1 = 0x03，等待单片机回复 TAG = 0x06 Byte1 = 0x01 升级请求成功，进入升级模式；
应用程序开始读取文件信息，发送升级数据给单片机，单片机对升级文件进行校验，接收到单片机校验正确，TAG = 0x06 Byte1 = 2；然后循环直到，升级数据发送完成;
升级结束；等待收到TAG = 0x06 Byte1 = 0x01，请求成功；升级结束，退出升级画面，画面迁移到电梯部件的显示画面 
==========>读文件函数

升级界面提供进度条显示更新


C:\Users\yonghao\AppData\Local\Temp

Qt: Dead lock detected while activating a BlockingQueuedConnection: Sender is QSerialPort(0x84af98), receiver is ProducerFromBottom(0x84efe0)

